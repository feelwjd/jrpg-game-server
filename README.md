# JRPG Game Server

## 프로젝트 개요

이 프로젝트는 JRPG 스타일의 게임 서버를 구축한 것으로, 플레이어가 캐릭터를 생성하고 관리하며, 전투에 참여하고 퀘스트를 수행할 수 있도록 설계되었습니다. 서버는 **Node.js**, **TypeScript**, **Prisma**를 기반으로 하며, **Rust**를 활용한 **WebAssembly(WASM)** 모듈을 통해 성능이 중요한 전투 로직을 처리합니다.

## 주요 기능

### 1. 사용자 인증 및 관리
- JWT 기반 인증 시스템을 사용하여 플레이어가 로그인하고 계정을 관리할 수 있는 시스템입니다.
- 회원가입, 로그인, 비밀번호 복구, 이메일 인증 등의 기능이 포함되어 있습니다.

### 2. 캐릭터 생성 및 관리
- 사용자는 여러 개의 캐릭터를 생성할 수 있으며, 캐릭터의 이름, 클래스, 레벨, 장비 등을 관리할 수 있습니다.
- 캐릭터 삭제 및 수정 기능이 제공됩니다.

### 3. 인벤토리 및 아이템 관리
- 각 캐릭터는 고유의 인벤토리를 가지고 있으며, 다양한 아이템을 획득하고 장착할 수 있습니다.
- 무기, 방어구와 같은 장비 아이템뿐만 아니라 포션 등의 소비 아이템도 관리됩니다.

### 4. 전투 시스템
- **Rust**로 작성된 **WASM** 모듈을 통해 전투 로직을 처리하며, 턴제 전투 시스템을 구현했습니다.
- 현재는 기본적인 공격/방어 로직만 포함되어 있지만, 향후 다양한 전투 메커니즘이 추가될 예정입니다.
  
### 5. 퀘스트 및 스토리 진행
- 플레이어가 게임 내에서 다양한 퀘스트를 수행할 수 있도록 퀘스트 관리 기능이 제공됩니다.
- 각 퀘스트의 상태(진행 중, 완료)를 서버에서 추적하고, 퀘스트 완료 시 보상을 지급합니다.

### 6. 데이터 동기화 및 저장
- 서버는 게임 진행 상황을 실시간으로 저장하며, 다음 접속 시 데이터를 불러올 수 있습니다.
- 클라우드 기반의 저장소와 연동하여 데이터 백업 및 복구가 가능합니다.

### 7. 멀티플레이어 기능 (향후 추가 예정)
- 여러 플레이어가 협력하거나 PVP 전투를 할 수 있는 멀티플레이어 기능이 추가될 예정입니다.

## 배틀 시스템 개요

현재 전투 시스템은 기본적인 **턴제 전투**를 지원하며, 플레이어와 적 캐릭터가 각각의 턴에서 공격과 방어를 수행할 수 있습니다. 이 시스템은 **Rust**로 작성된 **WASM** 모듈을 통해 성능이 중요한 전투 계산을 빠르게 처리하고 있습니다.

### 배틀 시스템 로직에 대한 설명

- **턴제 전투**의 핵심 로직은 각 캐릭터의 속도와 스탯을 기반으로 하여 턴 순서를 결정하고, 각 턴마다 캐릭터가 공격, 방어, 스킬 사용 등 다양한 행동을 수행할 수 있습니다.
- **아이템 및 장비 시스템**을 통해 캐릭터의 공격력, 방어력 등 스탯을 실시간으로 변경할 수 있으며, 전투 중에도 다양한 전략을 활용할 수 있습니다.
- 추가적으로, **AI 적의 행동**도 랜덤성이 아닌, 전략적인 행동을 수행하도록 로직이 설계될 예정입니다.

### 향후 추가 예정 기능
- **캐릭터 속도**: 캐릭터의 속도에 따라 턴 순서가 결정될 예정입니다. 더 빠른 캐릭터가 먼저 공격할 수 있도록 설계됩니다.
- **공격력 및 방어력**: 각 캐릭터의 공격력과 방어력에 기반한 피해 계산 로직이 추가될 것입니다.
- **아이템 착용 정보**: 캐릭터는 다양한 무기와 방어구를 착용할 수 있으며, 장착한 아이템에 따라 공격력, 방어력, 속도 등의 스탯이 달라집니다.
- **스킬 및 상태 이상**: 각 캐릭터가 사용할 수 있는 스킬 시스템이 추가될 예정이며, 스킬을 통해 상태 이상(중독, 기절 등) 효과를 부여할 수 있습니다.
- **전투 보상**: 전투가 종료되면 승리 여부에 따라 경험치, 아이템 보상 등이 지급될 것입니다.

## 프로젝트 설정 및 실행

### 1. 프로젝트 클론
```bash
git clone https://github.com/feelwjd/jrpg-game-server.git
cd jrpg-game-server
```

### 2. 의존성 설치
```bash
npm install
```

### 3. Prisma 설정
Prisma를 사용하여 데이터베이스를 설정합니다. **.env** 파일에 데이터베이스 연결 문자열을 설정한 후, 마이그레이션을 적용합니다.
```bash
npx prisma migrate dev --name init
npx prisma generate
```

### 4. 개발 서버 실행
```bash
npm run dev 
```

### 5. 프로덕션 빌드 및 실행
```bash
npm run build
npm run start
```

## 환경 변수 설정
프로젝트 루트에 **.env** 파일을 생성하고, 다음과 같이 환경 변수를 설정합니다.
```bash
DATABASE_URL="postgresql://username:password@localhost:5432/mydatabase"
JWT_SECRET="your_secret_key"
EMAIL_USER="your_email@example.com"
EMAIL_PASS="your_email_password"
FRONTEND_URL="http://localhost:3000"
```
## 기여
이 프로젝트에 기여하고 싶다면, 이슈를 통해 버그를 신고하거나 기능 제안을 할 수 있습니다. 풀 리퀘스트도 언제든 환영합니다!
